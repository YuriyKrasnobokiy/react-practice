"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[949],{949:function(t,e,n){n.r(e),n.d(e,{default:function(){return Z}});var c,o=n(433),i=n(683),r=n(439),s="Product_product__hQeO1",a="Product_productTitle__6HXej",l="Product_productImg__+a4qi",d="Product_discount__jixC9",u="Product_apology__pj8OQ",h="Product_poductBtn__TxHFh",p=n(184),m=function(t){var e=t.title,n=t.price,c=t.discount,o=t.id,i=t.handleDeleteProduct,r=t.openModal,m={backgroundColor:c?"#f37703":"#a4dbe2"};return(0,p.jsxs)("div",{className:s,style:m,children:[(0,p.jsx)("img",{className:l,src:"https://images.pexels.com/photos/461198/pexels-photo-461198.jpeg?dpr=2&h=480&w=640",alt:"Tacos With Lime"}),(0,p.jsx)("h1",{className:a,children:e}),c?(0,p.jsxs)("h2",{className:d,children:["Discount: ",c,"$"]}):(0,p.jsx)("p",{className:u,children:"Sorry, but discount on this product has expired \u2639"}),(0,p.jsxs)("h2",{children:["Price: ",n]}),(0,p.jsx)("button",{className:h,type:"button",children:"Add product to cart"}),(0,p.jsx)("button",{onClick:function(){return r({title:e,price:n,discount:c})},className:h,type:"button",children:"See the details"}),(0,p.jsx)("button",{onClick:function(){return i(o)},className:h,type:"button",children:"\xd7"})]})},x="App_productList__ZcthI",f="Section_section__Z2PLw",j=function(t){var e=t.children,n=t.title,c=void 0!==n&&n;return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("section",{className:f,children:[c&&(0,p.jsx)("h2",{children:c}),e]})})},b=n(791),_="ProductForm_form__g-Bdi",v="ProductForm_formLabel__MpNhX",g="ProductForm_formInput__OBcIO",k="ProductForm_labelText__TbfmW",N=function(t){var e=t.handleAddProduct,n=(0,b.useState)(""),c=(0,r.Z)(n,2),o=c[0],i=c[1],s=(0,b.useState)(""),a=(0,r.Z)(s,2),l=a[0],d=a[1],u=(0,b.useState)(!1),h=(0,r.Z)(u,2),m=h[0],x=h[1],f=(0,b.useState)(""),j=(0,r.Z)(f,2),N=j[0],w=j[1],y=function(t){var e="checkbox"===t.target.type?t.target.checked:t.target.value;switch(t.target.name){case"title":i(e);break;case"price":d(e);break;case"hasDiscount":x(e);break;case"discount":w(e)}};return(0,p.jsxs)("form",{className:_,onSubmit:function(t){t.preventDefault();var n={title:o,price:Number.parseFloat(l),discount:m?Number.parseFloat(N):null};e(n),i(""),d(""),x(!1),w("")},children:["Spaghetti"===o&&(0,p.jsx)("h3",{children:"\ud83e\udd73 Congrats! You won the discount promocode 20% OFF - #W4SD89R1 \ud83e\udd20"}),(0,p.jsxs)("label",{className:v,children:[(0,p.jsx)("p",{className:k,children:"Title:"}),(0,p.jsx)("input",{className:g,type:"text",name:"title",onChange:y,value:o})]}),(0,p.jsxs)("label",{className:v,children:[(0,p.jsx)("p",{className:k,children:"Price:"}),(0,p.jsx)("input",{className:g,type:"text",name:"price",onChange:y,value:l})]}),(0,p.jsxs)("label",{className:v,children:[(0,p.jsx)("input",{type:"checkbox",name:"hasDiscount",onChange:y,checked:m}),"","Has discount?"]}),m?(0,p.jsxs)("label",{className:v,children:[(0,p.jsx)("p",{className:k,children:"Discount:"}),(0,p.jsx)("input",{className:g,type:"text",name:"discount",onChange:y,value:N})]}):null,(0,p.jsx)("button",{type:"submit",children:"Add"})]})},w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(t)).reduce((function(t,e){return t+=(e&=63)<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e>62?"-":"_"}),"")},y=n(168),P=n(924).ZP.div(c||(c=(0,y.Z)(["\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  ///OR///\n  /* width: 100vw;\n  height: 100vh; */\n  background-color: rgba(0, 0, 0, 0.5);\n  &:hover {\n    cursor: pointer;\n  }\n\n  .modal {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    padding: 20px;\n    max-width: 450px;\n    width: 100%;\n    min-height: 450px;\n\n    background: white;\n    border-radius: 10px;\n    cursor: auto;\n  }\n\n  .closeBtn {\n    position: absolute;\n    top: 12px;\n    right: 12px;\n  }\n"]))),S=function(t){var e=t.modalData,n=t.closeModal,c=(0,b.useState)(1),o=(0,r.Z)(c,2),i=o[0],s=o[1];(0,b.useEffect)((function(){var t=function(t){"Escape"===t.code&&n()};return window.addEventListener("keydown",t),document.body.style.overflow="hidden",function(){window.removeEventListener("keydown",t),document.body.style.overflow="auto"}}),[n]),(0,b.useEffect)((function(){console.log("counter:"+i)}),[i]);return(0,p.jsx)(P,{onClick:function(t){t.target===t.currentTarget&&n()},children:(0,p.jsxs)("div",{className:"modal",children:[(0,p.jsx)("button",{onClick:n,type:"button",className:"closeBtn",children:"\xd7"}),(0,p.jsx)("h2",{children:"Product details"}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("h3",{children:["Title: ",e.title]}),(0,p.jsxs)("p",{children:["Price: ",e.price,"$"]}),(0,p.jsxs)("p",{children:["Discount: ",e.discount,"$"]}),(0,p.jsxs)("button",{onClick:function(){s((function(t){return t+1}))},children:["Add product: ",i]})]})]})})},C=[{id:"qreqetqb",title:"Tacos With Lime XL",price:10.99,discount:2},{id:"hfkfhkdh",title:"Tacos With Lime L",price:8.99,discount:null},{id:"dfhfcwtx",title:"Tacos With Lime",price:6.99,discount:6},{id:"zvzvdedw",title:"Tacos With Lime S",price:2.99,discount:.5},{id:"diqrwmsk",title:"Tacos With Cheese",price:7.99,discount:null},{id:"thskifhf",title:"Tacos With Cheese L",price:9.99,discount:1.5}],Z=function(){var t=(0,b.useState)(0),e=(0,r.Z)(t,2),n=e[0],c=e[1],s=(0,b.useState)(!1),a=(0,r.Z)(s,2),l=a[0],d=a[1],u=(0,b.useState)(null),h=(0,r.Z)(u,2),f=h[0],_=h[1],v=(0,b.useState)((function(){var t,e=localStorage.getItem("products");return null!==(t=JSON.parse(e))&&void 0!==t?t:C})),g=(0,r.Z)(v,2),k=g[0],y=g[1];(0,b.useEffect)((function(){var t=JSON.stringify(k);localStorage.setItem("products",t)}),[k]);var P=function(t){y(k.filter((function(e){return e.id!==t})))},Z=function(t){d(!0),_(t)},L=(0,o.Z)(k).sort((function(t,e){return e.discount-t.discount}));return(0,p.jsxs)("div",{children:[(0,p.jsxs)(j,{title:"Hello and counter",children:[(0,p.jsx)("h1",{children:"Hello"}),n>=5&&(0,p.jsx)("h3",{children:"\ud83c\udf89 Congrats! You won the discount promocode 30% OFF #DW13S4RE7 \ud83c\udf8a"}),(0,p.jsx)("button",{onClick:function(){0!==n?c((function(t){return t-1})):alert("Counter value is already decremented!")},children:"Decrement"}),(0,p.jsxs)("b",{children:["Counter Value: ",n]}),(0,p.jsx)("button",{onClick:function(){c((function(t){return t+1}))},children:"Increment"})]}),(0,p.jsx)(j,{title:"Product Form",children:(0,p.jsx)(N,{handleAddProduct:function(t){if(k.some((function(e){return e.title===t.title})))alert("Oops! Product with title '".concat(t.title,"' already exists"));else{var e=(0,i.Z)((0,i.Z)({},t),{},{id:w()});y([].concat((0,o.Z)(k),[e]))}}})}),(0,p.jsx)(j,{title:"Product List",children:(0,p.jsx)("div",{className:x,children:L.map((function(t){return(0,p.jsx)(m,{title:t.title,id:t.id,price:t.price,discount:t.discount,handleDeleteProduct:P,openModal:Z},t.id)}))})}),l&&(0,p.jsx)(S,{closeModal:function(){d(!1),_(null)},modalData:f})]})}}}]);
//# sourceMappingURL=949.f952a3b9.chunk.js.map